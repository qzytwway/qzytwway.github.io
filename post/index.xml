<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on Welcome To qzytwway&#39;s blog</title>
    <link>https://qzytwway.github.io/post/</link>
    <description>Recent content in Posts on Welcome To qzytwway&#39;s blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sun, 17 Jul 2022 09:31:24 +0800</lastBuildDate><atom:link href="https://qzytwway.github.io/post/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>制作jenkins Slave镜像</title>
      <link>https://qzytwway.github.io/post/%E5%88%B6%E4%BD%9Cjenkins-slave%E9%95%9C%E5%83%8F/</link>
      <pubDate>Sun, 17 Jul 2022 09:31:24 +0800</pubDate>
      
      <guid>https://qzytwway.github.io/post/%E5%88%B6%E4%BD%9Cjenkins-slave%E9%95%9C%E5%83%8F/</guid>
      <description>构建镜像需要的包以及软件如下图：
已经打成tar包供下载，下载链接如下。
链接：https://pan.baidu.com/s/1T2uBx3fm7FlnFmiFd5aGIA 提取码：6666 Dockerfile
FROM jenkins/inbound-agent USER root WORKDIR /home/jenkins ADD apache-maven-3.8.5-bin.tar.gz /usr/local/ COPY helm kubectl /usr/bin/ COPY settings.xml /usr/local/apache-maven-3.8.5/conf/settings.xml ENV MVN_HOME=/usr/local/apache-maven-3.8.5 ENV PATH=${PATH}:${JAVA_HOME}/bin:${MVN_HOME}/bin ENTRYPOINT [&amp;#34;jenkins-slave&amp;#34;] 使用docerkbuile命令构建镜像，之后可以使用docker tag更改镜像名上传到阿里云
docker build -t my-jenkins-slave:v1 . 起一个容器测试jdk跟mvn命令是否可用
➜ slave docker run -it --rm registry.cn-hangzhou.aliyuncs.com/wqzy_k8s_images/jenkins-slave:v1 /bin/bash root@0b1807c6b445:/home/jenkins# mvn -v Apache Maven 3.8.5 (3599d3414f046de2324203b78ddcf9b5e4388aa0) Maven home: /usr/local/apache-maven-3.8.5 Java version: 11.0.13, vendor: Eclipse Adoptium, runtime: /opt/java/openjdk Default locale: en, platform encoding: UTF-8 OS name: &amp;#34;linux&amp;#34;, version: &amp;#34;3.</description>
    </item>
    
    <item>
      <title>后端数据持久化</title>
      <link>https://qzytwway.github.io/post/%E5%90%8E%E7%AB%AF%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/</link>
      <pubDate>Sat, 16 Jul 2022 22:33:30 +0800</pubDate>
      
      <guid>https://qzytwway.github.io/post/%E5%90%8E%E7%AB%AF%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/</guid>
      <description>一.nfs部署 1.安装nfs服务 #在所有机器上安装 yum install -y nfs-utils #在nfs服务节点上 echo &amp;#34;/nfs/data/ *(insecure,rw,sync,no_root_squash)&amp;#34; &amp;gt; /etc/exports mkdir -p /nfs/data systemctl enable rpcbind --now systemctl enable nfs-server --now #配置生效 exportfs -r showmount -e 192.168.50.71 #测试使用nfs服务作为持久化存储创建一次部署 apiVersion: apps/v1 kind: Deployment metadata: labels: app: nginx-pv-demo name: nginx-pv-demo spec: replicas: 2 selector: matchLabels: app: nginx-pv-demo template: metadata: labels: app: nginx-pv-demo spec: containers: - image: nginx name: nginx volumeMounts: - name: html mountPath: /usr/share/nginx/html volumes: - name: html nfs: server: 192.</description>
    </item>
    
  </channel>
</rss>
